{% block body %}
    <section>
        <div id="catalog-brands">

            <div class="header-buttons">
                <!-- Button trigger modal -->
                <div class="btn-group main-buttons">
                    <a
                    type="button"
                    class="btn btn-success"
                    data-toggle="modal"
                    data-target="#createBrandModal"
                    v-on:click="resetForm">
                        Añadir Marca</a>
                <a role="button" class="btn btn-success pull-left" data-action="openLateral" data-route="warehouse/marcas/crear" data-panelsize="lg">
   Agregar Marca 2.0</a>
                </div>
            </div>

            <div class="panel-content">
                <vue-dynamic-table
                    class-name="table table-bordered"
                    v-bind:columns="sourceColumns"
                    v-bind:data-model="listBrands"
                    v-on:go-to-page="goToPage"
                    v-bind:pagination-options="pageOptions"
                    v-on:action-link-click="actionLink"
                    v-bind:filter-enabled="filterEnabled">
                        <template slot="no-rows-found">
                            <h4 class="text-center"><span class="glyphicon glyphicon-zoom-in"></span> No se encontraron resultados</h4>
                        </template>
                </vue-dynamic-table>
            </div>

            <!-- Modal -->
            <div
                id="createBrandModal"
                ref="createBrandModal"
                class="modal fade"
                tabindex="-1"
                role="dialog">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button
                                type="button"
                                class="close"
                                data-dismiss="modal"
                                aria-label="Close"
                                v-on:click="resetForm">
                                    <span aria-hidden="true">&times;</span>
                            </button>
                            <h3 v-if="brandObj.brandId == 0">Añadir Marca</h3>
                            <h3 v-if="brandObj.brandId != 0">Edición de Marca: ${ brandObj.brandNameOrginal }</h3>
                        </div>
                        <div class="modal-body">
                            <div class="col-md-12">
                                <div class="alert alert-dismissible" role="alert">
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <span aria-hidden="true">&times;</span></button>
                                    <p>
                                        Etsy sustainable try-hard selfies lo-fi
                                        polaroid sriracha butcher PBR&B, artisan man
                                        bun glossier. Health goth snackwave microdosing
                                        synth dreamcatcher, brunch cronut crucifix.
                                        Everyday carry pour-over meh, etsy marfa deep v health goth 90's
                                        Etsy sustainable try-hard selfies lo-fi
                                        polaroid sriracha butcher PBR&B, artisan man
                                        bun glossier. Health goth snackwave microdosing
                                        synth dreamcatcher, brunch cronut crucifix.
                                        Everyday carry pour-over meh, etsy marfa deep v health goth 90's
                                        Etsy sustainable try-hard selfies lo-fi
                                        polaroid sriracha butcher PBR&B, artisan man
                                        bun glossier. Health goth snackwave microdosing
                                        synth dreamcatcher, brunch cronut crucifix.
                                        Everyday carry pour-over meh, etsy marfa deep v health goth 90's
                                    </p>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Código:</label>
                                <input
                                    type="text"
                                    maxlength="100"
                                    v-model="brandObj.brandCode"
                                    name="brandCode"
                                    data-vv-as="Código"
                                :class="{'validate': errors.has('brandCode') }">
                                <span v-show="errors.has('brandCode')" class="cRed">${ errors.first('brandCode') }</span>
                            </div>
                            <div class="form-group">
                                <label>Marca:</label>
                                <input
                                    type="text"
                                    maxlength="100"
                                    v-model="brandObj.brandName"
                                    name="brandName"
                                    v-validate="'required'"
                                    data-vv-as="Nombre"
                                    :class="{'validate': errors.has('brandName') }">
                                <span v-show="errors.has('brandName')" class="cRed">${ errors.first('brandName') }</span>
                            </div>
                            <div class="form-group">
                                <label>Descripcion:</label>
                                <textarea
                                    class="form-control"
                                    rows="3"
                                    maxlength="255"
                                    style="resize: none;"
                                    v-model="brandObj.brandDescription"></textarea>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button
                                type="button"
                                class="btn btn-default"
                                data-dismiss="modal"
                                v-on:click="resetForm">Cancelar</button>
                            <button
                                ref="catalogBrandSubmit"
                                class="btn btn-success"
                                v-on:click="createOrUpdate">GUARDAR</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Modal -->

            <!-- Modal Pregunta-->
            <div
                id="questionModal"
                ref="questionModal"
                class="modal fade"
                tabindex="-1"
                role="dialog">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                            <h3>¿Estás seguro que deseas eliminar?</h3>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">
                                <label>Código:</label>
                                <h4>${brandToDelete.code}</h4>
                            </div>
                            <div class="form-group">
                                <label>Nombre:</label>
                                <h4>${brandToDelete.name}</h4>
                            </div>
                            <div class="form-group">
                                <label>Descripción:</label>
                                <h4>${brandToDelete.description}</h4>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                            <button
                                class="btn btn-danger"
                                v-on:click="deleteBrand">ELIMINAR</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Modal Pregunta -->

        </div>
    </section>
{% endblock %}
{% block loadScripts %}
    <script id="scriptContainer" type="text/javascript">
        init.length = 0;
        init = [ {
            title: 'Marcas',
            file: 'Warehouse/Brands/BrandCatalog.js',
            functions: [ {
                name: 'iniciarModuloBrandCatalog',
                args: [ ]
            } ]
        } ];
    </script>
{% endblock %}
