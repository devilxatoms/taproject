<section>
    <div id="taxesList-module">
        <div class="header-buttons">
            <div class="btn-group main-buttons">
                <a name="add" role="button" class="btn btn-success" data-action="openTab" data-module="contabilidad" data-route="contabilidad/impuestos/nuevo">
                    <i lass="fa fa-plus-square" aria-hidden="true"></i>
                    Nuevo impuesto
                </a>
                <a role="button" class="btn btn-default" v-on:click="checkFields()">Mostrar/Ocultar Columnas </a>
            </div>
        </div>
        <div class="panel-content">
            <div class="row">
                <div class="col-md-2">
                    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                        <div class="panel panel-default">
                            <div class="panel-heading" role="tab" id="headingThree">
                                <h4 class="panel-title">
                                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                        Usuario
                                    </a>
                                </h4>
                            </div>
                            <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                                <div class="panel-body">
                                    <div class="form-group">
                                        <input type="input" name="selectizeUser" id="selectizeUser" >
                                        <div name="contentUsers" id="contentUsers"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="panel panel-default">
                            <div class="panel-heading" role="tab" id="headingFive">
                                <h4 class="panel-title">
                                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                        Tipo de Impuesto
                                    </a>
                                </h4>
                            </div>
                            <div id="collapseFive" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFive">
                                <div class="panel-body">
                                    {% for default in taxesDefaults %}
                                        <input name="default" type="checkbox" v-model="taxesDefaults" value="{{ default.id }}" id="default-{{ default.id }}">
                                        <label class="filter-option" for="default-{{ default.id }}">{{ default.name }}</label><br>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- -->
                </div>
                <div class="col-md-10">
                    <vue-dynamic-table class-name="table table-bordered"
                    v-on:go-to-page="goToPage"
                    v-on:action-link-click="actionLink"
                    v-on:action-button-click="actionButton"
                    v-bind:pagination-options="taxesTablePageOptions"
                    v-bind:columns="sourceColumns"
                    v-bind:data-model="listTaxes"
                    />
                </div>
            </div>
        </div>
        <!-- Modal -->
        <div class="modal fade" id="modal-select-fields" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog modal-sm" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="myModalLabel">Selecciona los campos</h4>
                    </div>
                    <div class="modal-body">
                        <ul>
                            <li v-for="(column, index) in sourceColumns">
                                <input class="" type="checkbox"  v-model="column.visible">
                                <label class="checbox-label" v-bind:for="'column-visible' + index">${ column.title }</label>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% block loadScripts %}
    <script id="scriptContainer" type="text/javascript">
        init.length = 0;
        init = [ {
            title: '',
            file: 'Accounting/Taxes/taxes.js',
            functions: [ {
                name: 'loadTaxesList',
                args: [ ]
            } ]
        } ];
    </script>
{% endblock %}
